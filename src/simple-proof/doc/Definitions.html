<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="assets/resources/coqdoc.css" rel="stylesheet" type="text/css" />
<link href="assets/resources/coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="assets/resources/config.js"></script>
<script type="text/javascript" src="assets/resources/coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="../README.html">README</a>
      <a href="./indexpage.html"> Index </a>
      <a href="./toc.html"> Table of Contents </a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<h1 class="libtitle">Definitions</h1>

<div class="code">

<br/>
</div>

<div class="doc">
This proof uses the
    <a href="http://www.chargueraud.org/softs/tlc/">TLC</a>
    Coq library by Arthur Chargueraud. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">LibLN</span>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">String</span>.<br/>

<br/>
<span class="id" title="keyword">Parameter</span> <a name="typ_label"><span class="id" title="axiom">typ_label</span></a>: <span class="id" title="keyword">Set</span>.<br/>
<span class="id" title="keyword">Parameter</span> <a name="trm_label"><span class="id" title="axiom">trm_label</span></a>: <span class="id" title="keyword">Set</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab1"></a><h1 class="section">Abstract Syntax</h1>

<div class="paragraph"> </div>

<a name="lab2"></a><h3 class="section">Variables (<span class="inlinecode"><span class="id" title="var">x</span></span>, <span class="inlinecode"><span class="id" title="var">y</span></span>, <span class="inlinecode"><span class="id" title="var">z</span></span>)</h3>

    The proof represents variables using the
    <a href="http://www.chargueraud.org/softs/ln/">locally nameless representation</a>:
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">avar_b</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> represents a variable using the de Bruijn index <span class="inlinecode"><span class="id" title="var">n</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">avar_f</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> represents a free variable with name <span class="inlinecode"><span class="id" title="var">x</span></span>.

</li>
</ul>
    de Bruijn-indexed variables represent bound variables, whereas named variables represent free variables
    that are in the evaluation context/type environment.  
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="avar"><span class="id" title="inductive">avar</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="avar_b"><span class="id" title="constructor">avar_b</span></a> : <span class="id" title="inductive">nat</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a><br/>
&nbsp;&nbsp;| <a name="avar_f"><span class="id" title="constructor">avar_f</span></a> : <span class="id" title="axiom">var</span> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab3"></a><h3 class="section">Term and type members</h3>

        Type member labels (<span class="inlinecode"><span class="id" title="var">A</span></span>, <span class="inlinecode"><span class="id" title="var">B</span></span>, <span class="inlinecode"><span class="id" title="var">C</span></span>) and term (field) member labels (<span class="inlinecode"><span class="id" title="var">a</span></span>, <span class="inlinecode"><span class="id" title="var">b</span></span>, <span class="inlinecode"><span class="id" title="var">c</span></span>).  
</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="label"><span class="id" title="inductive">label</span></a>: <span class="id" title="keyword">Set</span> :=<br/>
| <a name="label_typ"><span class="id" title="constructor">label_typ</span></a>: <a class="idref" href="Definitions.html#typ_label"><span class="id" title="axiom">typ_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#label"><span class="id" title="inductive">label</span></a><br/>
| <a name="label_trm"><span class="id" title="constructor">label_trm</span></a>: <a class="idref" href="Definitions.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#label"><span class="id" title="inductive">label</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab4"></a><h3 class="section">Types</h3>

    Types (<span class="inlinecode"><span class="id" title="var">typ</span></span>, <span class="inlinecode"><span class="id" title="var">S</span></span>, <span class="inlinecode"><span class="id" title="var">T</span></span>, <span class="inlinecode"><span class="id" title="var">U</span></span>) and type declarations (<span class="inlinecode"><span class="id" title="var">dec</span></span>, <span class="inlinecode"><span class="id" title="var">D</span></span>):
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">typ_top</span></span> represents <span class="inlinecode"><span class="id" title="var">top</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_bot</span></span> represents <span class="inlinecode"><span class="id" title="var">bottom</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_rcd</span></span> <span class="inlinecode"><span class="id" title="var">d</span></span> represents a record type <span class="inlinecode"><span class="id" title="var">d</span></span>, where <span class="inlinecode"><span class="id" title="var">d</span></span> is either a type or field declaration;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_and</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">U</span></span> represents an intersection type <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">/\</span> <span class="inlinecode"><span class="id" title="var">U</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_sel</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> represents type selection <span class="inlinecode"><span class="id" title="var">x.A</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_bnd</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a recursive type <span class="inlinecode"><span class="id" title="var">mu</span>(<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>)</span>; however, since <span class="inlinecode"><span class="id" title="var">x</span></span> is bound in the recursive type,
      it is referred to in <span class="inlinecode"><span class="id" title="var">T</span></span> using the de Bruijn index 0, and is therefore omitted from the type representation;
      we will denote recursive types as <span class="inlinecode"><span class="id" title="var">mu</span>(<span class="id" title="var">T</span>)</span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">typ_all</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">U</span></span> represents the dependent function type <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>)<span class="id" title="var">U</span></span>; as in the previous case,
      <span class="inlinecode"><span class="id" title="var">x</span></span> represents a variable bound in <span class="inlinecode"><span class="id" title="var">U</span></span>, and is therefore omitted from the representation;
      we will denote function types as <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">T</span>)<span class="id" title="var">U</span></span>. 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="typ"><span class="id" title="inductive">typ</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="typ_top"><span class="id" title="constructor">typ_top</span></a>  : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_bot"><span class="id" title="constructor">typ_bot</span></a>  : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_rcd"><span class="id" title="constructor">typ_rcd</span></a>  : <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_and"><span class="id" title="constructor">typ_and</span></a>  : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_sel"><span class="id" title="constructor">typ_sel</span></a>  : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ_label"><span class="id" title="axiom">typ_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_bnd"><span class="id" title="constructor">typ_bnd</span></a>  : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
&nbsp;&nbsp;| <a name="typ_all"><span class="id" title="constructor">typ_all</span></a>  : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a><br/>
</div>

<div class="doc">
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">dec_typ</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a type declaraion <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">S</span>..<span class="id" title="var">T</span>}</span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">dec_trm</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a field declaration <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span> . 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="dec"><span class="id" title="inductive">dec</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="dec_typ"><span class="id" title="constructor">dec_typ</span></a>  : <a class="idref" href="Definitions.html#typ_label"><span class="id" title="axiom">typ_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a><br/>
&nbsp;&nbsp;| <a name="dec_trm"><span class="id" title="constructor">dec_trm</span></a>  : <a class="idref" href="Definitions.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab5"></a><h3 class="section">Terms</h3>

  Terms (<span class="inlinecode"><span class="id" title="var">trm</span></span>, <span class="inlinecode"><span class="id" title="var">t</span></span>, <span class="inlinecode"><span class="id" title="var">u</span></span>), values (<span class="inlinecode"><span class="id" title="var">val</span></span>, <span class="inlinecode"><span class="id" title="var">v</span></span>),
   member definitions (<span class="inlinecode"><span class="id" title="var">def</span></span>, <span class="inlinecode"><span class="id" title="var">d</span></span> and <span class="inlinecode"><span class="id" title="var">defs</span></span>, <span class="inlinecode"><span class="id" title="var">ds</span></span>):
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">trm_var</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> represents a variable <span class="inlinecode"><span class="id" title="var">x</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_val</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> represents a value <span class="inlinecode"><span class="id" title="var">v</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_sel</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> represents a field selection <span class="inlinecode"><span class="id" title="var">x.a</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_app</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span> represents a function application <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">y</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">trm_let</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span> represents a let binding <span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="keyword">in</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span>; since x is bound in <span class="inlinecode"><span class="id" title="var">u</span></span>,
    it is referred to in <span class="inlinecode"><span class="id" title="var">u</span></span> using the de Bruijn index 0, and is therefore omitted from
    the let-term representation; we will denote let terms as <span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="keyword">in</span></span> <span class="inlinecode"><span class="id" title="var">u</span></span>. 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="trm"><span class="id" title="inductive">trm</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="trm_var"><span class="id" title="constructor">trm_var</span></a>  : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_val"><span class="id" title="constructor">trm_val</span></a>  : <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_sel"><span class="id" title="constructor">trm_sel</span></a>  : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_app"><span class="id" title="constructor">trm_app</span></a>  : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a><br/>
&nbsp;&nbsp;| <a name="trm_let"><span class="id" title="constructor">trm_let</span></a>  : <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a><br/>
</div>

<div class="doc">
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">val_new</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">ds</span></span> represents the object <span class="inlinecode"><span class="id" title="var">nu</span>(<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>)<span class="id" title="var">ds</span></span>; the variable <span class="inlinecode"><span class="id" title="var">x</span></span> is bound in <span class="inlinecode"><span class="id" title="var">T</span></span>
    and <span class="inlinecode"><span class="id" title="var">ds</span></span> and is omitted from the representation;
    we will denote new object definitions as <span class="inlinecode"><span class="id" title="var">nu</span>(<span class="id" title="var">T</span>)<span class="id" title="var">ds</span></span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">val_lambda</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> represents a function <span class="inlinecode"><span class="id" title="var">lambda</span>(<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>)<span class="id" title="var">t</span></span>; again, <span class="inlinecode"><span class="id" title="var">x</span></span> is bound in <span class="inlinecode"><span class="id" title="var">t</span></span>
    and is omitted;
    we will denote lambda terms as <span class="inlinecode"><span class="id" title="var">lambda</span>(<span class="id" title="var">T</span>)<span class="id" title="var">t</span>.</span> <span class="inlinecode"></span>
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="val"><span class="id" title="inductive">val</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="val_new"><span class="id" title="constructor">val_new</span></a>  : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a><br/>
&nbsp;&nbsp;| <a name="val_lambda"><span class="id" title="constructor">val_lambda</span></a> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a><br/>
</div>

<div class="doc">
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">def_typ</span></span> <span class="inlinecode"><span class="id" title="var">A</span></span> <span class="inlinecode"><span class="id" title="var">T</span></span> represents a type-member definition <span class="inlinecode">{<span class="id" title="var">A</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span>;

</li>
<li> <span class="inlinecode"><span class="id" title="var">def_trm</span></span> <span class="inlinecode"><span class="id" title="var">a</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> represents a field definition <span class="inlinecode">{<span class="id" title="var">a</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">t</span>}</span>; 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="def"><span class="id" title="inductive">def</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="def_typ"><span class="id" title="constructor">def_typ</span></a>  : <a class="idref" href="Definitions.html#typ_label"><span class="id" title="axiom">typ_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a><br/>
&nbsp;&nbsp;| <a name="def_trm"><span class="id" title="constructor">def_trm</span></a>  : <a class="idref" href="Definitions.html#trm_label"><span class="id" title="axiom">trm_label</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a><br/>
</div>

<div class="doc">
  <span class="inlinecode"><span class="id" title="var">defs</span></span> represents a list of definitions that are part of an intersection
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">defs_nil</span></span> represents the empty list;

</li>
<li> <span class="inlinecode"><span class="id" title="var">defs_cons</span></span> <span class="inlinecode"><span class="id" title="var">d</span></span> <span class="inlinecode"><span class="id" title="var">ds</span></span> represents a concatenation of the definition <span class="inlinecode"><span class="id" title="var">d</span></span> to the definitions <span class="inlinecode"><span class="id" title="var">ds</span></span>. 
</li>
</ul>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="defs"><span class="id" title="inductive">defs</span></a> : <span class="id" title="keyword">Set</span> :=<br/>
&nbsp;&nbsp;| <a name="defs_nil"><span class="id" title="constructor">defs_nil</span></a> : <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a><br/>
&nbsp;&nbsp;| <a name="defs_cons"><span class="id" title="constructor">defs_cons</span></a> : <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a>.<br/>

<br/>
</div>

<div class="doc">
Helper functions to retrieve labels of declarations and definitions 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="label_of_def"><span class="id" title="definition">label_of_def</span></a>(<span class="id" title="var">d</span>: <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a>): <a class="idref" href="Definitions.html#label"><span class="id" title="inductive">label</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Definitions.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Definitions.html#label_typ"><span class="id" title="constructor">label_typ</span></a> <span class="id" title="var">L</span><br/>
| <a class="idref" href="Definitions.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Definitions.html#label_trm"><span class="id" title="constructor">label_trm</span></a> <span class="id" title="var">m</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="label_of_dec"><span class="id" title="definition">label_of_dec</span></a>(<span class="id" title="var">D</span>: <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a>): <a class="idref" href="Definitions.html#label"><span class="id" title="inductive">label</span></a> := <span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Definitions.html#label_typ"><span class="id" title="constructor">label_typ</span></a> <span class="id" title="var">L</span><br/>
| <a class="idref" href="Definitions.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">_</span>   =&gt; <a class="idref" href="Definitions.html#label_trm"><span class="id" title="constructor">label_trm</span></a> <span class="id" title="var">m</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="get_def"><span class="id" title="definition">get_def</span></a>(<span class="id" title="var">l</span>: <a class="idref" href="Definitions.html#label"><span class="id" title="inductive">label</span></a>)(<span class="id" title="var">ds</span>: <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a>): <span class="id" title="inductive">option</span> <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a> :=<br/>
<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="keyword">with</span><br/>
| <a class="idref" href="Definitions.html#defs_nil"><span class="id" title="constructor">defs_nil</span></a> =&gt; <span class="id" title="constructor">None</span><br/>
| <a class="idref" href="Definitions.html#defs_cons"><span class="id" title="constructor">defs_cons</span></a> <span class="id" title="var">ds'</span> <span class="id" title="var">d</span> =&gt; <span class="id" title="notation">If</span> <a class="idref" href="Definitions.html#label_of_def"><span class="id" title="definition">label_of_def</span></a> <span class="id" title="var">d</span> <span class="id" title="notation">=</span> <a class="idref" href="Definitions.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">then</span> <span class="id" title="constructor">Some</span> <span class="id" title="var">d</span> <span class="id" title="keyword">else</span> <a class="idref" href="Definitions.html#get_def"><span class="id" title="definition">get_def</span></a> <a class="idref" href="Definitions.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="var">ds'</span><br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="defs_has"><span class="id" title="definition">defs_has</span></a>(<span class="id" title="var">ds</span>: <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a>)(<span class="id" title="var">d</span>: <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a>) := <a class="idref" href="Definitions.html#get_def"><span class="id" title="definition">get_def</span></a> (<a class="idref" href="Definitions.html#label_of_def"><span class="id" title="definition">label_of_def</span></a> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a>) <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="notation">=</span> <span class="id" title="constructor">Some</span> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="defs_hasnt"><span class="id" title="definition">defs_hasnt</span></a>(<span class="id" title="var">ds</span>: <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a>)(<span class="id" title="var">l</span>: <a class="idref" href="Definitions.html#label"><span class="id" title="inductive">label</span></a>) := <a class="idref" href="Definitions.html#get_def"><span class="id" title="definition">get_def</span></a> <a class="idref" href="Definitions.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="notation">=</span> <span class="id" title="constructor">None</span>.<br/>

<br/>
</div>

<div class="doc">
Typing environment (<span class="inlinecode"><span class="id" title="var">G</span></span>) 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="ctx"><span class="id" title="definition">ctx</span></a> := <span class="id" title="definition">env</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>.<br/>

<br/>
</div>

<div class="doc">
A stack, represented as the sequence of variable-to-value
    let bindings, <span class="inlinecode">(<span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">v</span></span> <span class="inlinecode"><span class="id" title="keyword">in</span>)*</span>, that is represented as a value environment
    which maps variables to values.
    The operational semantics will be defined in terms of pairs <span class="inlinecode">(<span class="id" title="var">s</span>,</span> <span class="inlinecode"><span class="id" title="var">t</span>)</span> where
    <span class="inlinecode"><span class="id" title="var">s</span></span> is a stack and <span class="inlinecode"><span class="id" title="var">t</span></span> is a term.
    For example, the term <span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">x1</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">v1</span></span> <span class="inlinecode"><span class="id" title="keyword">in</span></span> <span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">x2</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">v2</span></span> <span class="inlinecode"><span class="id" title="keyword">in</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> is represented as
    <span class="inlinecode">({(<span class="id" title="var">x1</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">v1</span>),</span> <span class="inlinecode">(<span class="id" title="var">x2</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">v2</span>)},</span> <span class="inlinecode"><span class="id" title="var">t</span>)</span>.
    
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="sta"><span class="id" title="definition">sta</span></a> := <span class="id" title="definition">env</span> <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab6"></a><h1 class="section">Opening</h1>
 Opening takes a bound variable that is represented with a de Bruijn index <span class="inlinecode"><span class="id" title="var">k</span></span>
    and replaces it by a named variable <span class="inlinecode"><span class="id" title="var">u</span></span>.
    The following functions define opening on variables, types, declarations, terms,
    values, and definitions.

<div class="paragraph"> </div>

    We will denote an identifier <span class="inlinecode"><span class="id" title="var">X</span></span> opened with a variable <span class="inlinecode"><span class="id" title="var">y</span></span> as <span class="inlinecode"><span class="id" title="var">X</span>^<span class="id" title="var">y</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="open_rec_avar"><span class="id" title="definition">open_rec_avar</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">a</span>: <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>) : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="notation">If</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <span class="id" title="notation">=</span> <span class="id" title="var">i</span> <span class="id" title="keyword">then</span> <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span> =&gt; <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">T</span>: <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>): <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a>        =&gt; <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a>        =&gt; <a class="idref" href="Definitions.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>      =&gt; <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#open_rec_dec"><span class="id" title="definition">open_rec_dec</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T1</span>) (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">L</span>    =&gt; <a class="idref" href="Definitions.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> (<a class="idref" href="Definitions.html#open_rec_avar"><span class="id" title="definition">open_rec_avar</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">x</span>) <span class="id" title="var">L</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <span class="id" title="var">T</span>      =&gt; <a class="idref" href="Definitions.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T1</span>) (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <a name="open_rec_dec"><span class="id" title="definition">open_rec_dec</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">D</span>: <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a>): <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">U</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">T</span>   =&gt; <a class="idref" href="Definitions.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">t</span>: <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a>): <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> <span class="id" title="var">a</span>      =&gt; <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#open_rec_avar"><span class="id" title="definition">open_rec_avar</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_val"><span class="id" title="constructor">trm_val</span></a> <span class="id" title="var">v</span>      =&gt; <a class="idref" href="Definitions.html#trm_val"><span class="id" title="constructor">trm_val</span></a> (<a class="idref" href="Definitions.html#open_rec_val"><span class="id" title="definition">open_rec_val</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> <span class="id" title="var">v</span> <span class="id" title="var">m</span>    =&gt; <a class="idref" href="Definitions.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> (<a class="idref" href="Definitions.html#open_rec_avar"><span class="id" title="definition">open_rec_avar</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">v</span>) <span class="id" title="var">m</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_app"><span class="id" title="constructor">trm_app</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>    =&gt; <a class="idref" href="Definitions.html#trm_app"><span class="id" title="constructor">trm_app</span></a> (<a class="idref" href="Definitions.html#open_rec_avar"><span class="id" title="definition">open_rec_avar</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">f</span>) (<a class="idref" href="Definitions.html#open_rec_avar"><span class="id" title="definition">open_rec_avar</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>  =&gt; <a class="idref" href="Definitions.html#trm_let"><span class="id" title="constructor">trm_let</span></a> (<a class="idref" href="Definitions.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t1</span>) (<a class="idref" href="Definitions.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">t2</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <a name="open_rec_val"><span class="id" title="definition">open_rec_val</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">v</span>: <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a>): <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#val_new"><span class="id" title="constructor">val_new</span></a> <span class="id" title="var">T</span> <span class="id" title="var">ds</span>   =&gt; <a class="idref" href="Definitions.html#val_new"><span class="id" title="constructor">val_new</span></a> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="Definitions.html#open_rec_defs"><span class="id" title="definition">open_rec_defs</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">ds</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#val_lambda"><span class="id" title="constructor">val_lambda</span></a> <span class="id" title="var">T</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="Definitions.html#val_lambda"><span class="id" title="constructor">val_lambda</span></a> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>) (<a class="idref" href="Definitions.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> (<span class="id" title="constructor">S</span> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a>) <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <a name="open_rec_def"><span class="id" title="definition">open_rec_def</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">d</span>: <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a>): <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> =&gt; <a class="idref" href="Definitions.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">L</span> (<a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">e</span> =&gt; <a class="idref" href="Definitions.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">m</span> (<a class="idref" href="Definitions.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">e</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <a name="open_rec_defs"><span class="id" title="definition">open_rec_defs</span></a> (<span class="id" title="var">k</span>: <span class="id" title="inductive">nat</span>) (<span class="id" title="var">u</span>: <span class="id" title="axiom">var</span>) (<span class="id" title="var">ds</span>: <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a>): <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#defs_nil"><span class="id" title="constructor">defs_nil</span></a>       =&gt; <a class="idref" href="Definitions.html#defs_nil"><span class="id" title="constructor">defs_nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#defs_cons"><span class="id" title="constructor">defs_cons</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">d</span> =&gt; <a class="idref" href="Definitions.html#defs_cons"><span class="id" title="constructor">defs_cons</span></a> (<a class="idref" href="Definitions.html#open_rec_defs"><span class="id" title="definition">open_rec_defs</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">tl</span>) (<a class="idref" href="Definitions.html#open_rec_def"><span class="id" title="definition">open_rec_def</span></a> <a class="idref" href="Definitions.html#k"><span class="id" title="variable">k</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">d</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="open_avar"><span class="id" title="definition">open_avar</span></a> <span class="id" title="var">u</span> <span class="id" title="var">a</span> := <a class="idref" href="Definitions.html#open_rec_avar"><span class="id" title="definition">open_rec_avar</span></a>  0 <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="open_typ"><span class="id" title="definition">open_typ</span></a>  <span class="id" title="var">u</span> <span class="id" title="var">t</span> := <a class="idref" href="Definitions.html#open_rec_typ"><span class="id" title="definition">open_rec_typ</span></a>   0 <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="open_dec"><span class="id" title="definition">open_dec</span></a>  <span class="id" title="var">u</span> <span class="id" title="var">D</span> := <a class="idref" href="Definitions.html#open_rec_dec"><span class="id" title="definition">open_rec_dec</span></a>   0 <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#D"><span class="id" title="variable">D</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="open_trm"><span class="id" title="definition">open_trm</span></a>  <span class="id" title="var">u</span> <span class="id" title="var">e</span> := <a class="idref" href="Definitions.html#open_rec_trm"><span class="id" title="definition">open_rec_trm</span></a>   0 <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#e"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="open_val"><span class="id" title="definition">open_val</span></a>  <span class="id" title="var">u</span> <span class="id" title="var">v</span> := <a class="idref" href="Definitions.html#open_rec_val"><span class="id" title="definition">open_rec_val</span></a>   0 <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#v"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="open_def"><span class="id" title="definition">open_def</span></a>  <span class="id" title="var">u</span> <span class="id" title="var">d</span> := <a class="idref" href="Definitions.html#open_rec_def"><span class="id" title="definition">open_rec_def</span></a>   0 <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a>.<br/>
<span class="id" title="keyword">Definition</span> <a name="open_defs"><span class="id" title="definition">open_defs</span></a> <span class="id" title="var">u</span> <span class="id" title="var">l</span> := <a class="idref" href="Definitions.html#open_rec_defs"><span class="id" title="definition">open_rec_defs</span></a>  0 <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Hint Unfold</span> <a class="idref" href="Definitions.html#open_avar"><span class="id" title="definition">open_avar</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#open_dec"><span class="id" title="definition">open_dec</span></a> <a class="idref" href="Definitions.html#open_trm"><span class="id" title="definition">open_trm</span></a> <a class="idref" href="Definitions.html#open_val"><span class="id" title="definition">open_val</span></a> <a class="idref" href="Definitions.html#open_def"><span class="id" title="definition">open_def</span></a> <a class="idref" href="Definitions.html#open_defs"><span class="id" title="definition">open_defs</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab7"></a><h1 class="section">Free variables</h1>

      Functions that retrieve the free variables of a symbol. 
<div class="paragraph"> </div>

 Free variable in a variable. 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fv_avar"><span class="id" title="definition">fv_avar</span></a> (<span class="id" title="var">a</span>: <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_b"><span class="id" title="constructor">avar_b</span></a> <span class="id" title="var">i</span> =&gt; <span class="id" title="notation">\{}</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <span class="id" title="var">x</span> =&gt; <span class="id" title="notation">\{</span><span class="id" title="var">x</span><span class="id" title="notation">}</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Free variables in a type or declaration. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="fv_typ"><span class="id" title="definition">fv_typ</span></a> (<span class="id" title="var">T</span>: <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a>        =&gt; <span class="id" title="notation">\{}</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a>        =&gt; <span class="id" title="notation">\{}</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <span class="id" title="var">D</span>      =&gt; (<a class="idref" href="Definitions.html#fv_dec"><span class="id" title="definition">fv_dec</span></a> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <span class="id" title="var">T</span> <span class="id" title="var">U</span>    =&gt; <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">L</span>    =&gt; (<a class="idref" href="Definitions.html#fv_avar"><span class="id" title="definition">fv_avar</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <span class="id" title="var">T</span>      =&gt; (<a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <span class="id" title="var">T1</span> <span class="id" title="var">T2</span>  =&gt; <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T1</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T2</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <a name="fv_dec"><span class="id" title="definition">fv_dec</span></a> (<span class="id" title="var">D</span>: <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <span class="id" title="var">L</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span> =&gt; <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">U</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <span class="id" title="var">m</span> <span class="id" title="var">T</span>   =&gt; (<a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Free variables in a term, value, or definition. 
</div>
<div class="code">
<span class="id" title="keyword">Fixpoint</span> <a name="fv_trm"><span class="id" title="definition">fv_trm</span></a> (<span class="id" title="var">t</span>: <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> <span class="id" title="var">a</span>       =&gt; (<a class="idref" href="Definitions.html#fv_avar"><span class="id" title="definition">fv_avar</span></a> <span class="id" title="var">a</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_val"><span class="id" title="constructor">trm_val</span></a> <span class="id" title="var">v</span>        =&gt; (<a class="idref" href="Definitions.html#fv_val"><span class="id" title="definition">fv_val</span></a> <span class="id" title="var">v</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>      =&gt; (<a class="idref" href="Definitions.html#fv_avar"><span class="id" title="definition">fv_avar</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_app"><span class="id" title="constructor">trm_app</span></a> <span class="id" title="var">f</span> <span class="id" title="var">a</span>      =&gt; <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_avar"><span class="id" title="definition">fv_avar</span></a> <span class="id" title="var">f</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_avar"><span class="id" title="definition">fv_avar</span></a> <span class="id" title="var">a</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <span class="id" title="var">t1</span> <span class="id" title="var">t2</span>    =&gt; <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <span class="id" title="var">t1</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <span class="id" title="var">t2</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <a name="fv_val"><span class="id" title="definition">fv_val</span></a> (<span class="id" title="var">v</span>: <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#v"><span class="id" title="variable">v</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#val_new"><span class="id" title="constructor">val_new</span></a> <span class="id" title="var">T</span> <span class="id" title="var">ds</span>    =&gt; <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_defs"><span class="id" title="definition">fv_defs</span></a> <span class="id" title="var">ds</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#val_lambda"><span class="id" title="constructor">val_lambda</span></a> <span class="id" title="var">T</span> <span class="id" title="var">e</span>  =&gt; <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <span class="id" title="var">e</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <a name="fv_def"><span class="id" title="definition">fv_def</span></a> (<span class="id" title="var">d</span>: <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <span class="id" title="var">_</span> <span class="id" title="var">T</span>     =&gt; (<a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <span class="id" title="var">T</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <span class="id" title="var">_</span> <span class="id" title="var">t</span>     =&gt; (<a class="idref" href="Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a> <span class="id" title="var">t</span>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
<span class="id" title="keyword">with</span> <a name="fv_defs"><span class="id" title="definition">fv_defs</span></a>(<span class="id" title="var">ds</span>: <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a>) : <span class="id" title="definition">vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#defs_nil"><span class="id" title="constructor">defs_nil</span></a>         =&gt; <span class="id" title="notation">\{}</span><br/>
&nbsp;&nbsp;| <a class="idref" href="Definitions.html#defs_cons"><span class="id" title="constructor">defs_cons</span></a> <span class="id" title="var">tl</span> <span class="id" title="var">d</span>   =&gt; <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_defs"><span class="id" title="definition">fv_defs</span></a> <span class="id" title="var">tl</span><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_def"><span class="id" title="definition">fv_def</span></a> <span class="id" title="var">d</span><span class="id" title="notation">)</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Free variables in the range (types) of a context 
</div>
<div class="code">
<span class="id" title="keyword">Definition</span> <a name="fv_ctx_types"><span class="id" title="definition">fv_ctx_types</span></a>(<span class="id" title="var">G</span>: <a class="idref" href="Definitions.html#ctx"><span class="id" title="definition">ctx</span></a>): <span class="id" title="definition">vars</span> := (<span class="id" title="definition">fv_in_values</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">T</span> =&gt; <a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a>).<br/>
<span class="id" title="keyword">Definition</span> <a name="fv_sta_vals"><span class="id" title="definition">fv_sta_vals</span></a>(<span class="id" title="var">s</span>: <a class="idref" href="Definitions.html#sta"><span class="id" title="definition">sta</span></a>): <span class="id" title="definition">vars</span> := (<span class="id" title="definition">fv_in_values</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">v</span> =&gt; <a class="idref" href="Definitions.html#fv_val"><span class="id" title="definition">fv_val</span></a> <a class="idref" href="Definitions.html#v"><span class="id" title="variable">v</span></a>) <a class="idref" href="Definitions.html#s"><span class="id" title="variable">s</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab8"></a><h1 class="section">Typing Rules</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;G '⊢' t ':' T" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">t</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 59).<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;G '⊢' T '&lt;:' U" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">T</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 59).<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;G '/-' d : D" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">d</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 59).<br/>
<span class="id" title="keyword">Reserved Notation</span> &quot;G '/-' ds :: D" (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 40, <span class="id" title="var">ds</span> <span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 59).<br/>

<br/>
</div>

<div class="doc">
<a name="lab9"></a><h2 class="section">Term typing <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">t</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span></h2>

</div>
<div class="code">
<span class="id" title="keyword">Inductive</span> <a name="ty_trm"><span class="id" title="inductive">ty_trm</span></a> : <a class="idref" href="Definitions.html#ctx"><span class="id" title="definition">ctx</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span>(<span class="id" title="var">x</span>)</span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">T</span></span>  <br>
    <span class="inlinecode">――――――――</span>  <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>  
</div>
<div class="code">
| <a name="ty_var"><span class="id" title="constructor">ty_var</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="definition">binds</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span>,</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">t</span>^<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">U</span>^<span class="id" title="var">x</span></span>     <br>
    <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="tactic">fresh</span></span>                <br>
    <span class="inlinecode">――――――――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">lambda</span>(<span class="id" title="var">T</span>)<span class="id" title="var">t</span>:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">T</span>)<span class="id" title="var">U</span></span>      
</div>
<div class="code">
| <a name="ty_all_intro"><span class="id" title="constructor">ty_all_intro</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">G</span> <span class="id" title="var">T</span> <span class="id" title="var">t</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Definitions.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_trm"><span class="id" title="definition">open_trm</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_val"><span class="id" title="constructor">trm_val</span></a> (<a class="idref" href="Definitions.html#val_lambda"><span class="id" title="constructor">val_lambda</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">S</span>)<span class="id" title="var">T</span></span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">z</span>:</span> <span class="inlinecode"><span class="id" title="var">S</span></span>     <br>
    <span class="inlinecode">――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="var">z</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>^<span class="id" title="var">z</span></span>     
</div>
<div class="code">
| <a name="ty_all_elim"><span class="id" title="constructor">ty_all_elim</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">z</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_app"><span class="id" title="constructor">trm_app</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span>,</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>^<span class="id" title="var">x</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">ds</span>^<span class="id" title="var">x</span></span> <span class="inlinecode">::</span> <span class="inlinecode"><span class="id" title="var">T</span>^<span class="id" title="var">x</span></span>  <br>
    <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="tactic">fresh</span></span>                  <br>
    <span class="inlinecode">―――――――――――――――――――――――</span>  <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">nu</span>(<span class="id" title="var">T</span>)<span class="id" title="var">ds</span></span> <span class="inlinecode">::</span> <span class="inlinecode"><span class="id" title="var">mu</span>(<span class="id" title="var">T</span>)</span>          
</div>
<div class="code">
| <a name="ty_new_intro"><span class="id" title="constructor">ty_new_intro</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">G</span> <span class="id" title="var">T</span> <span class="id" title="var">ds</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Definitions.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <a class="idref" href="Definitions.html#3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">/-</span></a> <a class="idref" href="Definitions.html#open_defs"><span class="id" title="definition">open_defs</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> <a class="idref" href="Definitions.html#3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">::</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_val"><span class="id" title="constructor">trm_val</span></a> (<a class="idref" href="Definitions.html#val_new"><span class="id" title="constructor">val_new</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span> <br>
    <span class="inlinecode">―――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x.a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>        
</div>
<div class="code">
| <a name="ty_new_elim"><span class="id" title="constructor">ty_new_elim</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">a</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_sel"><span class="id" title="constructor">trm_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">t</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>          <br>
    <span class="inlinecode"><span class="id" title="var">G</span>,</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">u</span>^<span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>  <br>
    <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="tactic">fresh</span></span>           <br>
    <span class="inlinecode">―――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="keyword">let</span></span> <span class="inlinecode"><span class="id" title="var">t</span></span> <span class="inlinecode"><span class="id" title="keyword">in</span></span> <span class="inlinecode"><span class="id" title="var">u</span>:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>     
</div>
<div class="code">
| <a name="ty_let"><span class="id" title="constructor">ty_let</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">G</span> <span class="id" title="var">t</span> <span class="id" title="var">u</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Definitions.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_trm"><span class="id" title="definition">open_trm</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_let"><span class="id" title="constructor">trm_let</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>^<span class="id" title="var">x</span></span>   <br>
    <span class="inlinecode">――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">mu</span>(<span class="id" title="var">T</span>)</span>     
</div>
<div class="code">
| <a name="ty_rec_intro"><span class="id" title="constructor">ty_rec_intro</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">mu</span>(<span class="id" title="var">T</span>)</span> <br>
    <span class="inlinecode">――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>^<span class="id" title="var">x</span></span>   
</div>
<div class="code">
| <a name="ty_rec_elim"><span class="id" title="constructor">ty_rec_elim</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_bnd"><span class="id" title="constructor">typ_bnd</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>     <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>     <br>
    <span class="inlinecode">――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">/\</span> <span class="inlinecode"><span class="id" title="var">U</span></span>     
</div>
<div class="code">
| <a name="ty_and_intro"><span class="id" title="constructor">ty_and_intro</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">t</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>   <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span> <br>
    <span class="inlinecode">――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">t</span>:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>   
</div>
<div class="code">
| <a name="ty_sub"><span class="id" title="constructor">ty_sub</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><br/>
<span class="id" title="keyword">where</span> <a name="475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">&quot;</span></a>G '⊢' t ':' T" := (<a class="idref" href="Definitions.html#ty_trm"><span class="id" title="inductive">ty_trm</span></a> <span class="id" title="var">G</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>)<br/>
<br/>
</div>

<div class="doc">
<a name="lab10"></a><h2 class="section">Single-definition typing <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">d</span>:</span> <span class="inlinecode"><span class="id" title="var">D</span></span></h2>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="ty_def"><span class="id" title="inductive">ty_def</span></a> : <a class="idref" href="Definitions.html#ctx"><span class="id" title="definition">ctx</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode">{<span class="id" title="var">A</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">T</span>}:</span> <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>..<span class="id" title="var">T</span>}</span>   
</div>
<div class="code">
| <a name="ty_def_typ"><span class="id" title="constructor">ty_def_typ</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">A</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">/-</span></a> <a class="idref" href="Definitions.html#def_typ"><span class="id" title="constructor">def_typ</span></a> <a class="idref" href="Definitions.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="Definitions.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">t</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>            <br>
    <span class="inlinecode">―――――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode">{<span class="id" title="var">a</span></span> <span class="inlinecode">=</span> <span class="inlinecode"><span class="id" title="var">t</span>}:</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span> 
</div>
<div class="code">
| <a name="ty_def_trm"><span class="id" title="constructor">ty_def_trm</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">a</span> <span class="id" title="var">t</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">/-</span></a> <a class="idref" href="Definitions.html#def_trm"><span class="id" title="constructor">def_trm</span></a> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Definitions.html#16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<span class="id" title="keyword">where</span> <a name="16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">&quot;</span></a>G '/-' d ':' D" := (<a class="idref" href="Definitions.html#ty_def"><span class="id" title="inductive">ty_def</span></a> <span class="id" title="var">G</span> <span class="id" title="var">d</span> <span class="id" title="var">D</span>)<br/>
<br/>
</div>

<div class="doc">
<a name="lab11"></a><h2 class="section">Multiple-definition typing <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">ds</span></span> <span class="inlinecode">::</span> <span class="inlinecode"><span class="id" title="var">T</span></span></h2>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="ty_defs"><span class="id" title="inductive">ty_defs</span></a> : <a class="idref" href="Definitions.html#ctx"><span class="id" title="definition">ctx</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">d</span>:</span> <span class="inlinecode"><span class="id" title="var">D</span></span>              <br>
    <span class="inlinecode">―――――――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">d</span></span> <span class="inlinecode">++</span> <span class="inlinecode"><span class="id" title="var">defs_nil</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">D</span></span> 
</div>
<div class="code">
| <a name="ty_defs_one"><span class="id" title="constructor">ty_defs_one</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">d</span> <span class="id" title="var">D</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">/-</span></a> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Definitions.html#16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">/-</span></a> <a class="idref" href="Definitions.html#defs_cons"><span class="id" title="constructor">defs_cons</span></a> <a class="idref" href="Definitions.html#defs_nil"><span class="id" title="constructor">defs_nil</span></a> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Definitions.html#3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">::</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#D"><span class="id" title="variable">D</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">ds</span></span> <span class="inlinecode">::</span> <span class="inlinecode"><span class="id" title="var">T</span></span>         <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">d</span>:</span> <span class="inlinecode"><span class="id" title="var">D</span></span>            <br>
    <span class="inlinecode"><span class="id" title="var">d</span></span> <span class="inlinecode">\<span class="id" title="var">notin</span></span> <span class="inlinecode"><span class="id" title="var">ds</span></span>         <br>
    <span class="inlinecode">―――――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">ds</span></span> <span class="inlinecode">++</span> <span class="inlinecode"><span class="id" title="var">d</span></span> <span class="inlinecode">:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">/\</span> <span class="inlinecode"><span class="id" title="var">D</span></span> 
</div>
<div class="code">
| <a name="ty_defs_cons"><span class="id" title="constructor">ty_defs_cons</span></a> : <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">ds</span> <span class="id" title="var">d</span> <span class="id" title="var">T</span> <span class="id" title="var">D</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">/-</span></a> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> <a class="idref" href="Definitions.html#3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">::</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">/-</span></a> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Definitions.html#16c640a47313db48f91680a27c875d6a"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#defs_hasnt"><span class="id" title="definition">defs_hasnt</span></a> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> (<a class="idref" href="Definitions.html#label_of_def"><span class="id" title="definition">label_of_def</span></a> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">/-</span></a> <a class="idref" href="Definitions.html#defs_cons"><span class="id" title="constructor">defs_cons</span></a> <a class="idref" href="Definitions.html#ds"><span class="id" title="variable">ds</span></a> <a class="idref" href="Definitions.html#d"><span class="id" title="variable">d</span></a> <a class="idref" href="Definitions.html#3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">::</span></a> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> (<a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> <a class="idref" href="Definitions.html#D"><span class="id" title="variable">D</span></a>)<br/>
<span class="id" title="keyword">where</span> <a name="3ed367b71ffb60c21c78b5c76080d9a3"><span class="id" title="notation">&quot;</span></a>G '/-' ds '::' T" := (<a class="idref" href="Definitions.html#ty_defs"><span class="id" title="inductive">ty_defs</span></a> <span class="id" title="var">G</span> <span class="id" title="var">ds</span> <span class="id" title="var">T</span>)<br/>
<br/>
</div>

<div class="doc">
<a name="lab12"></a><h2 class="section">Subtyping <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span></h2>

</div>
<div class="code">
<span class="id" title="keyword">with</span> <a name="subtyp"><span class="id" title="inductive">subtyp</span></a> : <a class="idref" href="Definitions.html#ctx"><span class="id" title="definition">ctx</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">top</span></span> 
</div>
<div class="code">
| <a name="subtyp_top"><span class="id" title="constructor">subtyp_top</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_top"><span class="id" title="constructor">typ_top</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">bot</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> 
</div>
<div class="code">
| <a name="subtyp_bot"><span class="id" title="constructor">subtyp_bot</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#typ_bot"><span class="id" title="constructor">typ_bot</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> 
</div>
<div class="code">
| <a name="subtyp_refl"><span class="id" title="constructor">subtyp_refl</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>     <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>     <br>
    <span class="inlinecode">――――――――――</span>     <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>         
</div>
<div class="code">
| <a name="subtyp_trans"><span class="id" title="constructor">subtyp_trans</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">/\</span> <span class="inlinecode"><span class="id" title="var">U</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> 
</div>
<div class="code">
| <a name="subtyp_and11"><span class="id" title="constructor">subtyp_and11</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">/\</span> <span class="inlinecode"><span class="id" title="var">U</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span> 
</div>
<div class="code">
| <a name="subtyp_and12"><span class="id" title="constructor">subtyp_and12</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>       <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>       <br>
    <span class="inlinecode">――――――――――――――</span>   <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">/\</span> <span class="inlinecode"><span class="id" title="var">U</span></span>          
</div>
<div class="code">
| <a name="subtyp_and2"><span class="id" title="constructor">subtyp_and2</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_and"><span class="id" title="constructor">typ_and</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">U</span></span>           <br>
    <span class="inlinecode">――――――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">T</span>}</span> <span class="inlinecode">&lt;:</span> <span class="inlinecode">{<span class="id" title="var">a</span>:</span> <span class="inlinecode"><span class="id" title="var">U</span>}</span> 
</div>
<div class="code">
| <a name="subtyp_fld"><span class="id" title="constructor">subtyp_fld</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">a</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_trm"><span class="id" title="constructor">dec_trm</span></a> <a class="idref" href="Definitions.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="Definitions.html#U"><span class="id" title="variable">U</span></a>)<br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S2</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">S1</span></span>                   <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T1</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T2</span></span>                   <br>
    <span class="inlinecode">――――――――――――――――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">S1</span>..<span class="id" title="var">T1</span>}</span> <span class="inlinecode">&lt;:</span> <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">S2</span>..<span class="id" title="var">T2</span>}</span>     
</div>
<div class="code">
| <a name="subtyp_typ"><span class="id" title="constructor">subtyp_typ</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">A</span> <span class="id" title="var">S1</span> <span class="id" title="var">T1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#S1"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#T2"><span class="id" title="variable">T2</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="Definitions.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a>) <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="Definitions.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#T2"><span class="id" title="variable">T2</span></a>)<br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">S</span>..<span class="id" title="var">T</span>}</span> <br>
    <span class="inlinecode">――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">x.A</span></span>     
</div>
<div class="code">
| <a name="subtyp_sel2"><span class="id" title="constructor">subtyp_sel2</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="Definitions.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#A"><span class="id" title="variable">A</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode">{<span class="id" title="var">A</span>:</span> <span class="inlinecode"><span class="id" title="var">S</span>..<span class="id" title="var">T</span>}</span> <br>
    <span class="inlinecode">――――――――――――――――</span> <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">x.A</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T</span></span>     
</div>
<div class="code">
| <a name="subtyp_sel1"><span class="id" title="constructor">subtyp_sel1</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">x</span> <span class="id" title="var">A</span> <span class="id" title="var">S</span> <span class="id" title="var">T</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_var"><span class="id" title="constructor">trm_var</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#typ_rcd"><span class="id" title="constructor">typ_rcd</span></a> (<a class="idref" href="Definitions.html#dec_typ"><span class="id" title="constructor">dec_typ</span></a> <a class="idref" href="Definitions.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#S"><span class="id" title="variable">S</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#typ_sel"><span class="id" title="constructor">typ_sel</span></a> (<a class="idref" href="Definitions.html#avar_f"><span class="id" title="constructor">avar_f</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <a class="idref" href="Definitions.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a><br/>
<br/>
</div>

<div class="doc">
<span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">S2</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">S1</span></span>                <br>
    <span class="inlinecode"><span class="id" title="var">G</span>,</span> <span class="inlinecode"><span class="id" title="var">x</span>:</span> <span class="inlinecode"><span class="id" title="var">S2</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">T1</span>^<span class="id" title="var">x</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="var">T2</span>^<span class="id" title="var">x</span></span>     <br>
    <span class="inlinecode"><span class="id" title="var">x</span></span> <span class="inlinecode"><span class="id" title="tactic">fresh</span></span>                     <br>
    <span class="inlinecode">―――――――――――――――――――――――</span>     <br>
    <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">S1</span>)<span class="id" title="var">T1</span></span> <span class="inlinecode">&lt;:</span> <span class="inlinecode"><span class="id" title="keyword">forall</span>(<span class="id" title="var">S2</span>)<span class="id" title="var">T2</span></span>      
</div>
<div class="code">
| <a name="subtyp_all"><span class="id" title="constructor">subtyp_all</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">L</span> <span class="id" title="var">G</span> <span class="id" title="var">S1</span> <span class="id" title="var">T1</span> <span class="id" title="var">S2</span> <span class="id" title="var">T2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#S1"><span class="id" title="variable">S1</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="notation">(</span><span class="id" title="keyword">forall</span> <span class="id" title="var">x</span>, <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">notin</span> <a class="idref" href="Definitions.html#L"><span class="id" title="variable">L</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#open_typ"><span class="id" title="definition">open_typ</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="Definitions.html#T2"><span class="id" title="variable">T2</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="Definitions.html#S1"><span class="id" title="variable">S1</span></a> <a class="idref" href="Definitions.html#T1"><span class="id" title="variable">T1</span></a> <a class="idref" href="Definitions.html#f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&lt;:</span></a> <a class="idref" href="Definitions.html#typ_all"><span class="id" title="constructor">typ_all</span></a> <a class="idref" href="Definitions.html#S2"><span class="id" title="variable">S2</span></a> <a class="idref" href="Definitions.html#T2"><span class="id" title="variable">T2</span></a><br/>
<span class="id" title="keyword">where</span> <a name="f5d99e17f5ca8d1d631e108ef40e0c62"><span class="id" title="notation">&quot;</span></a>G '⊢' T '&lt;:' U" := (<a class="idref" href="Definitions.html#subtyp"><span class="id" title="inductive">subtyp</span></a> <span class="id" title="var">G</span> <span class="id" title="var">T</span> <span class="id" title="var">U</span>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab13"></a><h1 class="section">Well-typed stacks</h1>

<div class="paragraph"> </div>

 The operational semantics is defined in terms of pairs <span class="inlinecode">(<span class="id" title="var">s</span>,</span> <span class="inlinecode"><span class="id" title="var">t</span>)</span>, where
    <span class="inlinecode"><span class="id" title="var">s</span></span> is a stack and <span class="inlinecode"><span class="id" title="var">t</span></span> is a term.
    Given a typing <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode">(<span class="id" title="var">s</span>,</span> <span class="inlinecode"><span class="id" title="var">t</span>):</span> <span class="inlinecode"><span class="id" title="var">T</span></span>, <span class="inlinecode"><span class="id" title="var">well_typed</span></span> establishes a correspondence
    between <span class="inlinecode"><span class="id" title="var">G</span></span> and the stack <span class="inlinecode"><span class="id" title="var">s</span></span>.

<div class="paragraph"> </div>

    We say that <span class="inlinecode"><span class="id" title="var">s</span></span> is well-typed with respect to <span class="inlinecode"><span class="id" title="var">G</span></span> if
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">=</span> <span class="inlinecode">{(<span class="id" title="var">xi</span></span> <span class="inlinecode"><span class="id" title="var">mapsto</span></span> <span class="inlinecode"><span class="id" title="var">Ti</span>)</span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1,</span> <span class="inlinecode">...,</span> <span class="inlinecode"><span class="id" title="var">n</span>}</span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">s</span></span> <span class="inlinecode">=</span> <span class="inlinecode">{(<span class="id" title="var">xi</span></span> <span class="inlinecode"><span class="id" title="var">mapsto</span></span> <span class="inlinecode"><span class="id" title="var">vi</span>)</span> <span class="inlinecode">|</span> <span class="inlinecode"><span class="id" title="var">i</span></span> <span class="inlinecode">=</span> <span class="inlinecode">1,</span> <span class="inlinecode">...,</span> <span class="inlinecode"><span class="id" title="var">n</span>}</span>

</li>
<li> <span class="inlinecode"><span class="id" title="var">G</span></span> <span class="inlinecode">⊢</span> <span class="inlinecode"><span class="id" title="var">vi</span>:</span> <span class="inlinecode"><span class="id" title="var">Ti</span></span>.

</li>
</ul>

<div class="paragraph"> </div>

    We say that <span class="inlinecode"><span class="id" title="var">e</span></span> is well-typed with respect to <span class="inlinecode"><span class="id" title="var">G</span></span>, denoted as <span class="inlinecode"><span class="id" title="var">s</span>:</span> <span class="inlinecode"><span class="id" title="var">G</span></span>. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="well_typed"><span class="id" title="inductive">well_typed</span></a>: <a class="idref" href="Definitions.html#ctx"><span class="id" title="definition">ctx</span></a> <span class="id" title="notation">-&gt;</span> <a class="idref" href="Definitions.html#sta"><span class="id" title="definition">sta</span></a> <span class="id" title="notation">-&gt;</span> <span class="id" title="keyword">Prop</span> :=<br/>
| <a name="well_typed_empty"><span class="id" title="constructor">well_typed_empty</span></a>: <a class="idref" href="Definitions.html#well_typed"><span class="id" title="inductive">well_typed</span></a> <span class="id" title="axiom">empty</span> <span class="id" title="axiom">empty</span><br/>
| <a name="well_typed_push"><span class="id" title="constructor">well_typed_push</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">G</span> <span class="id" title="var">s</span> <span class="id" title="var">x</span> <span class="id" title="var">T</span> <span class="id" title="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#well_typed"><span class="id" title="inductive">well_typed</span></a> <a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">#</span> <a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">#</span> <a class="idref" href="Definitions.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">⊢</span></a> <a class="idref" href="Definitions.html#trm_val"><span class="id" title="constructor">trm_val</span></a> <a class="idref" href="Definitions.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="Definitions.html#475d58042806a5294f9ce6903e16f6d3"><span class="id" title="notation">:</span></a> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a> <span class="id" title="notation">-&gt;</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#well_typed"><span class="id" title="inductive">well_typed</span></a> (<a class="idref" href="Definitions.html#G"><span class="id" title="variable">G</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="Definitions.html#T"><span class="id" title="variable">T</span></a>) (<a class="idref" href="Definitions.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="notation">&amp;</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">~</span> <a class="idref" href="Definitions.html#v"><span class="id" title="variable">v</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab14"></a><h1 class="section">Infrastructure</h1>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Hint Constructors</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#well_typed"><span class="id" title="inductive">well_typed</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Definitions.html#ty_trm"><span class="id" title="inductive">ty_trm</span></a> <a class="idref" href="Definitions.html#ty_def"><span class="id" title="inductive">ty_def</span></a> <a class="idref" href="Definitions.html#ty_defs"><span class="id" title="inductive">ty_defs</span></a> <a class="idref" href="Definitions.html#subtyp"><span class="id" title="inductive">subtyp</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab15"></a><h2 class="section">Mutual Induction Principles</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Scheme</span> <a name="typ_mut"><span class="id" title="definition">typ_mut</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="dec_mut"><span class="id" title="definition">dec_mut</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#dec"><span class="id" title="inductive">dec</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="var">Combined</span> <span class="id" title="keyword">Scheme</span> <a name="typ_mutind"><span class="id" title="definition">typ_mutind</span></a> <span class="id" title="var">from</span> <a class="idref" href="Definitions.html#typ_mut"><span class="id" title="definition">typ_mut</span></a>, <a class="idref" href="Definitions.html#dec_mut"><span class="id" title="definition">dec_mut</span></a>.<br/>

<br/>
<span class="id" title="keyword">Scheme</span> <a name="trm_mut"><span class="id" title="definition">trm_mut</span></a>  := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a>  <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="val_mut"><span class="id" title="definition">val_mut</span></a>  := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="def_mut"><span class="id" title="definition">def_mut</span></a>  := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a>  <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="defs_mut"><span class="id" title="definition">defs_mut</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="var">Combined</span> <span class="id" title="keyword">Scheme</span> <a name="trm_mutind"><span class="id" title="definition">trm_mutind</span></a> <span class="id" title="var">from</span> <a class="idref" href="Definitions.html#trm_mut"><span class="id" title="definition">trm_mut</span></a>, <a class="idref" href="Definitions.html#val_mut"><span class="id" title="definition">val_mut</span></a>, <a class="idref" href="Definitions.html#def_mut"><span class="id" title="definition">def_mut</span></a>, <a class="idref" href="Definitions.html#defs_mut"><span class="id" title="definition">defs_mut</span></a>.<br/>

<br/>
<span class="id" title="keyword">Scheme</span> <a name="ts_ty_trm_mut"><span class="id" title="definition">ts_ty_trm_mut</span></a> := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#ty_trm"><span class="id" title="inductive">ty_trm</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="ts_subtyp"><span class="id" title="definition">ts_subtyp</span></a>     := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#subtyp"><span class="id" title="inductive">subtyp</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="var">Combined</span> <span class="id" title="keyword">Scheme</span> <a name="ts_mutind"><span class="id" title="definition">ts_mutind</span></a> <span class="id" title="var">from</span> <a class="idref" href="Definitions.html#ts_ty_trm_mut"><span class="id" title="definition">ts_ty_trm_mut</span></a>, <a class="idref" href="Definitions.html#ts_subtyp"><span class="id" title="definition">ts_subtyp</span></a>.<br/>

<br/>
<span class="id" title="keyword">Scheme</span> <a name="rules_trm_mut"><span class="id" title="definition">rules_trm_mut</span></a>    := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#ty_trm"><span class="id" title="inductive">ty_trm</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="rules_def_mut"><span class="id" title="definition">rules_def_mut</span></a>    := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#ty_def"><span class="id" title="inductive">ty_def</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="rules_defs_mut"><span class="id" title="definition">rules_defs_mut</span></a>   := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#ty_defs"><span class="id" title="inductive">ty_defs</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span><br/>
<span class="id" title="keyword">with</span>   <a name="rules_subtyp"><span class="id" title="definition">rules_subtyp</span></a>     := <span class="id" title="keyword">Induction</span> <span class="id" title="keyword">for</span> <a class="idref" href="Definitions.html#subtyp"><span class="id" title="inductive">subtyp</span></a> <span class="id" title="keyword">Sort</span> <span class="id" title="keyword">Prop</span>.<br/>
<span class="id" title="var">Combined</span> <span class="id" title="keyword">Scheme</span> <a name="rules_mutind"><span class="id" title="definition">rules_mutind</span></a> <span class="id" title="var">from</span> <a class="idref" href="Definitions.html#rules_trm_mut"><span class="id" title="definition">rules_trm_mut</span></a>, <a class="idref" href="Definitions.html#rules_def_mut"><span class="id" title="definition">rules_def_mut</span></a>, <a class="idref" href="Definitions.html#rules_defs_mut"><span class="id" title="definition">rules_defs_mut</span></a>, <a class="idref" href="Definitions.html#rules_subtyp"><span class="id" title="definition">rules_subtyp</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab16"></a><h2 class="section">Tactics</h2>

<div class="paragraph"> </div>

 Tactics for generating fresh variables. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">gather_vars</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">A</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="definition">vars</span>      =&gt; <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>         ) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <span class="id" title="axiom">var</span>       =&gt; <span class="id" title="notation">\{</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">}</span>    ) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#ctx"><span class="id" title="definition">ctx</span></a>       =&gt; <span class="id" title="notation">(</span><span class="id" title="axiom">dom</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="notation">(</span><a class="idref" href="Definitions.html#fv_ctx_types"><span class="id" title="definition">fv_ctx_types</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a><span class="id" title="notation">)</span>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">D</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#sta"><span class="id" title="definition">sta</span></a>       =&gt; <span class="id" title="axiom">dom</span> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <a class="idref" href="Definitions.html#fv_sta_vals"><span class="id" title="definition">fv_sta_vals</span></a> <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">E</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#avar"><span class="id" title="inductive">avar</span></a>      =&gt; <a class="idref" href="Definitions.html#fv_avar"><span class="id" title="definition">fv_avar</span></a>  <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">F</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#trm"><span class="id" title="inductive">trm</span></a>       =&gt; <a class="idref" href="Definitions.html#fv_trm"><span class="id" title="definition">fv_trm</span></a>   <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">G</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#val"><span class="id" title="inductive">val</span></a>       =&gt; <a class="idref" href="Definitions.html#fv_val"><span class="id" title="definition">fv_val</span></a>   <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#def"><span class="id" title="inductive">def</span></a>       =&gt; <a class="idref" href="Definitions.html#fv_def"><span class="id" title="definition">fv_def</span></a>   <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">I</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#defs"><span class="id" title="inductive">defs</span></a>      =&gt; <a class="idref" href="Definitions.html#fv_defs"><span class="id" title="definition">fv_defs</span></a>  <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">J</span> := <span class="id" title="var">gather_vars_with</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> : <a class="idref" href="Definitions.html#typ"><span class="id" title="inductive">typ</span></a>       =&gt; <a class="idref" href="Definitions.html#fv_typ"><span class="id" title="definition">fv_typ</span></a>   <a class="idref" href="Definitions.html#x"><span class="id" title="variable">x</span></a>) <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">constr</span>:(<span class="id" title="var">A</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">B</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">C</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">D</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">E</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">F</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">G</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">H</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">I</span> <span class="id" title="notation">\</span><span class="id" title="notation">u</span> <span class="id" title="var">J</span>).<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">pick_fresh</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">L</span> := <span class="id" title="var">gather_vars</span> <span class="id" title="keyword">in</span> (<span class="id" title="var">pick_fresh_gen</span> <span class="id" title="var">L</span> <span class="id" title="var">x</span>).<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "apply_fresh" <span class="id" title="keyword">constr</span>(<span class="id" title="var">T</span>) "as" <span class="id" title="var">ident</span>(<span class="id" title="var">x</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="var">apply_fresh_base</span> <span class="id" title="var">T</span> <span class="id" title="var">gather_vars</span> <span class="id" title="var">x</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">fresh_constructor</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span> <a class="idref" href="Definitions.html#ty_new_intro"><span class="id" title="constructor">ty_new_intro</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">z</span> ||<br/>
&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span> <a class="idref" href="Definitions.html#ty_all_intro"><span class="id" title="constructor">ty_all_intro</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">z</span> ||<br/>
&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span> <a class="idref" href="Definitions.html#ty_let"><span class="id" title="constructor">ty_let</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">z</span> ||<br/>
&nbsp;&nbsp;<span class="id" title="var">apply_fresh</span> <a class="idref" href="Definitions.html#subtyp_all"><span class="id" title="constructor">subtyp_all</span></a> <span class="id" title="keyword">as</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">auto</span>.<br/>

<br/>
</div>

<div class="doc">
Tactics for naming cases in case analysis. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">string_scope</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">move_to_top</span> <span class="id" title="var">x</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">reverse</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">H</span> : <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> =&gt; <span class="id" title="tactic">try</span> <span class="id" title="tactic">move</span> <span class="id" title="var">x</span> <span class="id" title="keyword">after</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "assert_eq" <span class="id" title="var">ident</span>(<span class="id" title="var">x</span>) <span class="id" title="keyword">constr</span>(<span class="id" title="var">v</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">H</span> := <span class="id" title="tactic">fresh</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <span class="id" title="notation">=</span> <span class="id" title="var">v</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">H</span>.<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "Case_aux" <span class="id" title="var">ident</span>(<span class="id" title="var">x</span>) <span class="id" title="keyword">constr</span>(<span class="id" title="var">name</span>) :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">first</span> [<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">x</span> := <span class="id" title="var">name</span>); <span class="id" title="var">move_to_top</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <span class="id" title="var">assert_eq</span> <span class="id" title="var">x</span> <span class="id" title="var">name</span>; <span class="id" title="var">move_to_top</span> <span class="id" title="var">x</span><br/>
&nbsp;&nbsp;| <span class="id" title="tactic">fail</span> 1 "because we are working on a different case" ].<br/>

<br/>
<span class="id" title="keyword">Tactic Notation</span> "Case" <span class="id" title="keyword">constr</span>(<span class="id" title="var">name</span>) := <span class="id" title="var">Case_aux</span> <span class="id" title="var">Case</span> <span class="id" title="var">name</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "SCase" <span class="id" title="keyword">constr</span>(<span class="id" title="var">name</span>) := <span class="id" title="var">Case_aux</span> <span class="id" title="var">SCase</span> <span class="id" title="var">name</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "SSCase" <span class="id" title="keyword">constr</span>(<span class="id" title="var">name</span>) := <span class="id" title="var">Case_aux</span> <span class="id" title="var">SSCase</span> <span class="id" title="var">name</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "SSSCase" <span class="id" title="keyword">constr</span>(<span class="id" title="var">name</span>) := <span class="id" title="var">Case_aux</span> <span class="id" title="var">SSSCase</span> <span class="id" title="var">name</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "SSSSCase" <span class="id" title="keyword">constr</span>(<span class="id" title="var">name</span>) := <span class="id" title="var">Case_aux</span> <span class="id" title="var">SSSSCase</span> <span class="id" title="var">name</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "SSSSSCase" <span class="id" title="keyword">constr</span>(<span class="id" title="var">name</span>) := <span class="id" title="var">Case_aux</span> <span class="id" title="var">SSSSSCase</span> <span class="id" title="var">name</span>.<br/>

<br/>
</div>

<div class="doc">
Automatically destruct premises 
</div>
<div class="code">
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destruct_all</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : <span class="id" title="notation">exists</span> <span class="id" title="var">x</span><span class="id" title="notation">,</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ]  =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">A</span> <span class="id" title="notation">/\</span> ?<span class="id" title="var">B</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;| [ <span class="id" title="var">H</span> : ?<span class="id" title="var">A</span> <span class="id" title="notation">\/</span> ?<span class="id" title="var">B</span> |- <span class="id" title="var">_</span> ] =&gt; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="tactic">omega</span> := <span class="id" title="var">Coq.omega.Omega.omega</span>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr/">coqdoc</a> and improved with <a href="https://github.com/tebbi/coqdocjs">CoqdocJS</a>
</div>
</div>
</body>

</html>
